(:JIQS: ShouldRun; Output="({ "k" : 1, "j" : 1 }, { "k" : 1, "j" : 1 }, { "k" : 2, "j" : 2 }, { "k" : 1, "j" : 1 }, { "k" : 2, "j" : 2 }, { "k" : 3, "j" : 3 }, { "k" : 1, "j" : 1 }, { "k" : 2, "j" : 2 }, { "k" : 3, "j" : 3 }, { "k" : 4, "j" : 4 }, { "k" : 1, "j" : 1 }, { "k" : 2, "j" : 2 }, { "k" : 3, "j" : 3 }, { "k" : 4, "j" : 4 }, { "k" : 5, "j" : 5 }, { "k" : 1, "j" : 1 }, { "k" : 2, "j" : 2 }, { "k" : 3, "j" : 3 }, { "k" : 4, "j" : 4 }, { "k" : 5, "j" : 5 }, { "k" : 6, "j" : 6 }, { "k" : 1, "j" : 1 }, { "k" : 2, "j" : 2 }, { "k" : 3, "j" : 3 }, { "k" : 4, "j" : 4 }, { "k" : 5, "j" : 5 }, { "k" : 6, "j" : 6 }, { "k" : 7, "j" : 7 }, { "k" : 1, "j" : 1 }, { "k" : 2, "j" : 2 }, { "k" : 3, "j" : 3 }, { "k" : 4, "j" : 4 }, { "k" : 5, "j" : 5 }, { "k" : 6, "j" : 6 }, { "k" : 7, "j" : 7 }, { "k" : 8, "j" : 8 }, { "k" : 1, "j" : 1 }, { "k" : 2, "j" : 2 }, { "k" : 3, "j" : 3 }, { "k" : 4, "j" : 4 }, { "k" : 5, "j" : 5 }, { "k" : 6, "j" : 6 }, { "k" : 7, "j" : 7 }, { "k" : 8, "j" : 8 }, { "k" : 9, "j" : 9 }, { "k" : 1, "j" : 1 }, { "k" : 2, "j" : 2 }, { "k" : 3, "j" : 3 }, { "k" : 4, "j" : 4 }, { "k" : 5, "j" : 5 }, { "k" : 6, "j" : 6 }, { "k" : 7, "j" : 7 }, { "k" : 8, "j" : 8 }, { "k" : 9, "j" : 9 }, { "k" : 10, "j" : 10 })" :)
for $i in annotate(
  for $j in 1 to 10 return {"foo":{"bar":[ 1 to $j ]}},
  {"foo":{"bar":["integer"]}}
)
for $j at $k in $i.foo.bar[]
order by size($i.foo.bar), $k
return { "k" : $k, "j": $j }
